!function(n,t,e){"use strict";var o=function(t){n.onContentEdited(t)};n.bindEvents=function(){var n,i;t("*[contenteditable]").on("focus",function(){n=t(this).html()}).on("keyup paste",function(){n!=t(this).html()&&(clearTimeout(i),i=setTimeout(o(t(this)[0]),500))}),e.on("instanceReady",function(n){t(n.editor.element.$).append('<i class="fa fa-pencil editable-affordance"></i>')})}}(window.omniclopse=window.omniclopse||{},$,CKEDITOR),function(n){"use strict";var t=function(n,t,e){n.classList.remove(t),n.classList.add(e)};n.ux=n.ux||{},n.ux.saveContentStarted=function(n){t(n,"fa-pencil","fa-save")},n.ux.saveContentCompleted=function(n){t(n,"fa-save","fa-check"),setTimeout(function(){t(n,"fa-check","fa-pencil")},3e3)},n.ux.saveContentFailed=function(n){t(n,"fa-save","fa-times")}}(window.omniclopse=window.omniclopse||{}),function(n,t){"use strict";n.onContentEdited=function(e){var o=t(e).find("i")[0];n.ux.saveContentStarted(o);var i=t(".panel").map(function(n,e){var o=t(e).find("h1"),i=t(e).find(".panel-body");return{title:o?o.text():"",body:i?i.html():""}}).get(),a={panels:i};t.ajax({url:"/pages/home",dataType:"json",contentType:"application/json",data:JSON.stringify(a),type:"PUT"}).fail(function(){n.ux.saveContentFailed(o)}).done(function(){n.ux.saveContentCompleted(o)})}}(window.omniclopse=window.omniclopse||{},$);