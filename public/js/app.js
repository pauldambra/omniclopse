!function(n,e,t){"use strict";n.bindEvents=function(){var o,i;e("*[contenteditable]").on("focus",function(){o=e(this).html()}).on("keyup paste",function(){o!=e(this).html()&&(clearTimeout(i),i=setTimeout(n.onContentEdited,500))}),t.on("instanceReady",function(n){e(n.editor.element.$).append('<i class="fa fa-pencil editable-affordance"></i>')})}}(window.omniclopse=window.omniclopse||{},$,CKEDITOR),function(n){"use strict";n.ux=n.ux||{},n.ux.saveContentStarted=function(){}}(window.omniclopse=window.omniclopse||{}),function(n,e){"use strict";function t(n){setTimeout(function(){e("#messageHolder").children(".alert:first-child").alert().alert("close")},n)}var o=function(n,o){var i=e("<div/>",{"class":"alert alert-dismissable "+o}),a=e("<button/>",{type:"button","class":"close","data-dismiss":"alert","aria-hidden":"true"});a.append("&times;"),i.append(a),i.append(n),e("#messageHolder").append(i),t(3e3)};n.onContentEdited=function(){var n=e(".panel").map(function(n,t){var o=e(t).find("h1"),i=e(t).find(".panel-body");return{title:o?o.text():"",body:i?i.html():""}}).get(),t={panels:n};e.ajax({url:"/pages/home",dataType:"json",contentType:"application/json",data:JSON.stringify(t),type:"PUT"}).fail(function(){o("could not save your changes","alert-danger")}).done(function(){o("saved changes","alert-success")})}}(window.omniclopse=window.omniclopse||{},$);