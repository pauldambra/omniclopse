!function(e,n){"use strict";e.bindEvents=function(){var t,o;n("*[contenteditable]").on("focus",function(){t=n(this).html()}).on("keyup paste",function(){t!=n(this).html()&&(clearTimeout(o),o=setTimeout(e.onContentEdited,500))})}}(window.omniclopse=window.omniclopse||{},$),function(e,n){"use strict";function t(e){setTimeout(function(){n("#messageHolder").children(".alert:first-child").alert().alert("close")},e)}var o=function(e,o){var i=n("<div/>",{"class":"alert alert-dismissable "+o}),a=n("<button/>",{type:"button","class":"close","data-dismiss":"alert","aria-hidden":"true"});a.append("&times;"),i.append(a),i.append(e),n("#messageHolder").append(i),t(3e3)};e.onContentEdited=function(){var e=n(".panel").map(function(e,t){var o=n(t).find("h1"),i=n(t).find(".panel-body");return{title:o?o.text():"",body:i?i.html():""}}).get(),t={panels:e};n.ajax({url:"/pages/home",dataType:"json",contentType:"application/json",data:JSON.stringify(t),type:"PUT"}).fail(function(){o("could not save your changes","alert-danger")}).done(function(){o("saved changes","alert-success")})}}(window.omniclopse=window.omniclopse||{},$),function(e,n){"use strict";e.bindEvents=function(){var t,o;n("*[contenteditable]").on("focus",function(){t=n(this).html()}).on("keyup paste",function(){t!=n(this).html()&&(clearTimeout(o),o=setTimeout(e.onContentEdited,500))})}}(window.omniclopse=window.omniclopse||{},$),function(e,n){"use strict";function t(e){setTimeout(function(){n("#messageHolder").children(".alert:first-child").alert().alert("close")},e)}var o=function(e,o){var i=n("<div/>",{"class":"alert alert-dismissable "+o}),a=n("<button/>",{type:"button","class":"close","data-dismiss":"alert","aria-hidden":"true"});a.append("&times;"),i.append(a),i.append(e),n("#messageHolder").append(i),t(3e3)};e.onContentEdited=function(){var e=n(".panel").map(function(e,t){var o=n(t).find("h1"),i=n(t).find(".panel-body");return{title:o?o.text():"",body:i?i.html():""}}).get(),t={panels:e};n.ajax({url:"/pages/home",dataType:"json",contentType:"application/json",data:JSON.stringify(t),type:"PUT"}).fail(function(){o("could not save your changes","alert-danger")}).done(function(){o("saved changes","alert-success")})}}(window.omniclopse=window.omniclopse||{},$);